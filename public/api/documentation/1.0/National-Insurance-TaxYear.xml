<endpoint>
    <name>National Insurance TaxYear</name>
    <description>Returns a National Insurance Tax Year statement</description>
    <section id="resource">
        <title>Resource</title>
        <resource>GET /national-insurance-record/ni/{nino}/taxyear/{taxYear}</resource>
    </section>
    <section id="path-parameters">
        <title>Path Parameters</title>
        <table>
            <headings>
                <cell>Name</cell>
                <cell>Type</cell>
                <cell>Example</cell>
                <cell>Description</cell>
            </headings>
            <rows>
                <row>
                    <cell><code>nino</code></cell>
                    <cell><code>String</code></cell>
                    <cell><code>QQ123456A</code></cell>
                    <cell>A valid National Insurance Number</cell>
                </row>
                <row>
                    <cell><code>taxYear</code></cell>
                    <cell><code>TaxYear</code></cell>
                    <cell><code>"2010-11"</code></cell>
                    <cell>A valid Tax Year</cell>
                </row>
            </rows>
        </table>
    </section>
    <section id="authorisation">
        <title>Authorisation</title>
        <authorisation>
            <type>APPLICATION</type>
            <scope>read:national-insurance-record</scope>
        </authorisation>
    </section>
    <section id="content-types">
        <title>Accepted Media Types</title>
        <list>
            <item>
                <code>application/vnd.hmrc.1.0+json</code>
            </item>
        </list>
    </section>
    <section id="response">
        <title>Regular Response</title>
        <httpStatus>200 (OK)</httpStatus>
        <json>
            <![CDATA[  {
              "_links": {
                "self": {
                  "href": "/national-insurance-record/ni/YN123456D/taxyear/2010-11"
                }
              },
              "taxYear": "2010-11",
              "qualifying": false,
              "classOneContributions": 1149.98,
              "classTwoCredits": 0,
              "classThreeCredits": 0,
              "otherCredits": 0,
              "classThreePayable": 0,
              "classThreePayableBy": null,
              "classThreePayableByPenalty": "2023-04-05",
              "payable": false,
              "underInvestigation": false
            }]]>
        </json>
        <table>
            <headings>
                <cell>Name</cell>
                <cell>Type</cell>
                <cell>Example</cell>
                <cell>Description</cell>
            </headings>
            <rows>
                <row>
                    <cell><code>taxYear</code></cell>
                    <cell><code>TaxYear</code></cell>
                    <cell><code>"2015-16"</code></cell>
                    <cell>The tax year</cell>
                </row>
                <row>
                    <cell><code>qualifying</code></cell>
                    <cell><code>Boolean</code></cell>
                    <cell><code>true</code></cell>
                    <cell>The flag for tax year qualifying status</cell>
                </row>
                <row>
                    <cell><code>classOneContributions</code></cell>
                    <cell><code>Number</code></cell>
                    <cell><code>1149.98</code></cell>
                    <cell>The class one national insurance contributions</cell>
                </row>
                <row>
                    <cell><code>classTwoCredits</code></cell>
                    <cell><code>Number</code></cell>
                    <cell><code>0</code></cell>
                    <cell>The class two national insurance credits</cell>
                </row>
                <row>
                    <cell><code>classThreeCredits</code></cell>
                    <cell><code>Number</code></cell>
                    <cell><code>0</code></cell>
                    <cell>The class three national insurance credits</cell>
                </row>
                <row>
                    <cell><code>otherCredits</code></cell>
                    <cell><code>Number</code></cell>
                    <cell><code>0</code></cell>
                    <cell>The other national insurance credits</cell>
                </row>
                <row>
                    <cell><code>classThreePayable</code></cell>
                    <cell><code>Number</code></cell>
                    <cell><code>0</code></cell>
                    <cell>The class three national insurance contributions to fill the gap year</cell>
                </row>
                <row>
                    <cell><code>classThreePayableBy</code></cell>
                    <cell><code>Date</code></cell>
                    <cell><code>"2019-04-05"</code></cell>
                    <cell>The date by which class three national insurance contributions is payable</cell>
                </row>
                <row>
                    <cell><code>classThreePayableByPenalty</code></cell>
                    <cell><code>Date</code></cell>
                    <cell><code>"2019-04-05"</code></cell>
                    <cell>The date by which class three national insurance contributions is payable by Penalty</cell>
                </row>
                <row>
                    <cell><code>payable</code></cell>
                    <cell><code>Boolean</code></cell>
                    <cell><code>true</code></cell>
                    <cell>The gap year is payable</cell>
                </row>
                <row>
                    <cell><code>underInvestigation</code></cell>
                    <cell><code>Boolean</code></cell>
                    <cell><code>false</code></cell>
                    <cell>The tax year is under Investigation</cell>
                </row>
            </rows>
        </table>
    </section>
    <section id="error-scenarios">
        <title>Error Scenarios</title>
        <table>
            <headings>
                <cell>Error Scenario</cell>
                <cell>HTTP Status</cell>
                <cell>Code</cell>
            </headings>
            <rows>
                <row>
                    <cell>Invalid NINO requested</cell>
                    <cell><code>400</code></cell>
                    <cell><code>ERROR_NINO_INVALID</code></cell>
                </row>
                <row>
                    <cell>Manual Correspondence exclusion, the customer cannot be served digitally and needs to contact HMRC</cell>
                    <cell><code>403</code></cell>
                    <cell><code>EXCLUSION_MANUAL_CORRESPONDENCE</code></cell>
                </row>
                <row>
                    <cell>Death recorded, the customer needs to contact the National Insurance Helpline</cell>
                    <cell><code>403</code></cell>
                    <cell><code>EXCLUSION_DEAD</code></cell>
                </row>
                <row>
                    <cell>Isle of Man exclusion, the customer needs to contact the National Insurance Helpline</cell>
                    <cell><code>403</code></cell>
                    <cell><code>EXCLUSION_ISLE_OF_MAN</code></cell>
                </row>
                <row>
                    <cell>Married Women Reduced rate exclusion, the customer needs to contact the National Insurance Helpline</cell>
                    <cell><code>403</code></cell>
                    <cell><code>EXCLUSION_MARRIED_WOMENS_REDUCED_RATE</code></cell>
                </row>
                <row>
                    <cell>Bad Request from Upstream, check if the customer is below State Pension age</cell>
                    <cell><code>400</code></cell>
                    <cell><code>BAD_REQUEST</code></cell>
                </row>
                <row>
                    <cell>The requested NINO is valid but does not exist in the system</cell>
                    <cell><code>404</code></cell>
                    <cell><code>NOT_FOUND</code></cell>
                </row>
                <row>
                    <cell>Internal Server Error</cell>
                    <cell><code>500</code></cell>
                    <cell><code>INTERNAL_SERVER_ERROR</code></cell>
                </row>
                <row>
                    <cell>Unauthorized</cell>
                    <cell><code>401</code></cell>
                    <cell><code>UNAUTHORIZED</code></cell>
                </row>
                <row>
                    <cell>Invalid Accept Headers</cell>
                    <cell><code>406</code></cell>
                    <cell><code>ACCEPT_HEADER_INVALID</code></cell>
                </row>
            </rows>
        </table>
    </section>
    <section id="sandbox-responses">
        <title>Specific Sandbox Payloads</title>
        <table>
            <headings>
                <cell>Prefix</cell>
                <cell>Response Summary</cell>
            </headings>
            <rows>
                <row>
                    <cell>Not Listed</cell>
                    <cell>The regular response at the top of this document</cell>
                </row>
                <row>
                    <cell><code>MA</code></cell>
                    <cell>A user with the IsleOfMan exclusion</cell>
                </row>
                <row>
                    <cell><code>MW</code></cell>
                    <cell>A user with the MarriedWomenReducedRateElection exclusion</cell>
                </row>
                <row>
                    <cell><code>YN</code></cell>
                    <cell>A user who is dead</cell>
                </row>
                <row>
                    <cell><code>MC</code></cell>
                    <cell>A user who has manual correspondence only and cannot use the service</cell>
                </row>
            </rows>
        </table>

    </section>
</endpoint>
